import{c as p,r as l,s as o,j as e,F as m,n as d,z as j}from"./index-ktae_aew.js";import{E as y}from"./eye-L33N8S8g.js";import{C as N}from"./credit-card-BUg2JvOI.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=p("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=p("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function D(){const[r,u]=l.useState([]),[g,c]=l.useState(!0),[a,i]=l.useState("all");l.useEffect(()=>{x()},[a]);const x=async()=>{c(!0);try{let t=o.from("articles").select("*").order("created_at",{ascending:!1});a==="published"?t=t.eq("published",!0):a==="draft"&&(t=t.eq("published",!1));const{data:n,error:s}=await t;if(s)throw s;u(n||[])}catch(t){console.error("Error loading articles:",t)}finally{c(!1)}},f=async(t,n)=>{if(confirm(`Are you sure you want to delete "${n}"?`))try{const{error:s}=await o.from("articles").delete().eq("id",t);if(s)throw s;x()}catch(s){console.error("Error deleting article:",s),alert("Failed to delete article")}},b=t=>new Date(t).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-slate-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Dashboard"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Article Management"})]})]})})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="all"?"bg-green-600 text-white":"bg-white text-slate-700 hover:bg-slate-100"}`,children:["All Articles (",r.length,")"]}),e.jsx("button",{onClick:()=>i("published"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="published"?"bg-green-600 text-white":"bg-white text-slate-700 hover:bg-slate-100"}`,children:"Published"}),e.jsx("button",{onClick:()=>i("draft"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="draft"?"bg-green-600 text-white":"bg-white text-slate-700 hover:bg-slate-100"}`,children:"Drafts"})]}),e.jsxs(d,{to:"/admin/articles/new",className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors",children:[e.jsx(h,{className:"w-5 h-5"}),"New Article"]})]}),g?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(j,{})}):r.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-12 text-center",children:[e.jsx(m,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No articles yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Get started by creating your first article"}),e.jsxs(d,{to:"/admin/articles/new",className:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors",children:[e.jsx(h,{className:"w-5 h-5"}),"Create Article"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:r.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:t.title}),e.jsx("div",{className:"text-sm text-slate-500",children:t.slug})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:t.category||"Uncategorized"})}),e.jsx("td",{className:"px-6 py-4",children:t.published?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Published"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Draft"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:b(t.published_at||t.created_at)}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.published&&e.jsx("a",{href:`/articles/${t.slug}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"View",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx(d,{to:`/admin/articles/edit/${t.id}`,className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(t.id,t.title),className:"p-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:e.jsx(w,{className:"w-4 h-4"})})]})})]},t.id))})]})})]})]})}export{D as default};
