import{c as G,j as e,S as xe,b as ge,P as pe,d as ue,E as ve,F as je,e as fe,U as ie,C as A,f as W,A as oe,r as b,L as be,g as Ne,h as ye,s as X,u as we,i as Ce,k as Pe,l as O,R as he,M as Se,B as ke,m as Ae,n as z}from"./index-CBR2AKg4.js";import{G as Te}from"./globe--g0lbsuX.js";import{C as de}from"./credit-card-CA9RGhdc.js";import{X as me}from"./x-circle-DnWTURZ1.js";import{U as Re}from"./user-gpXkZIjo.js";import{g as Be}from"./metaDescriptionGenerator-CMASWFLJ.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=G("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=G("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),_e=({clinic:s})=>{var j,f,N,y,w,g,p,C,T,R,B,E;const l=((j=s==null?void 0:s.overview)==null?void 0:j.name)||"Unknown Clinic",r=((f=s==null?void 0:s.overview)==null?void 0:f.tagline)||"",d=((N=s==null?void 0:s.patientExperience)==null?void 0:N.overallRating)||0,n=((y=s==null?void 0:s.patientExperience)==null?void 0:y.totalReviews)||0,t=((w=s==null?void 0:s.verdict)==null?void 0:w.recommendationLevel)||"TBC",x=((g=s==null?void 0:s.overview)==null?void 0:g.website)||"#",v=((p=s==null?void 0:s.overview)==null?void 0:p.phone)||"Contact clinic",i=((C=s==null?void 0:s.overview)==null?void 0:C.email)||"Contact clinic",a=((R=(T=s==null?void 0:s.pricing)==null?void 0:T.initialConsultation)==null?void 0:R.price)||"TBC",m=((E=(B=s==null?void 0:s.pricing)==null?void 0:B.estimatedAnnualCost)==null?void 0:E.average)||"TBC",o=()=>{var _,U,M,D,$,H;const P=((U=(_=s==null?void 0:s.overview)==null?void 0:_.address)==null?void 0:U.street)||"TBC",F=((D=(M=s==null?void 0:s.overview)==null?void 0:M.address)==null?void 0:D.city)||"TBC",L=((H=($=s==null?void 0:s.overview)==null?void 0:$.address)==null?void 0:H.postcode)||"TBC";return P==="TBC"&&F==="TBC"&&L==="TBC"?"Address not available":`${P}, ${F}, ${L}`},c=()=>{switch(t){case"highly-recommended":return"bg-green-100 text-green-800";case"recommended":return"bg-blue-100 text-blue-800";case"conditional":return"bg-yellow-100 text-yellow-800";case"not-recommended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=P=>P===null||P==="TBC"?"TBC":`£${P}`;return e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",itemProp:"name",children:l}),r&&e.jsx("p",{className:"text-gray-600 mb-2",itemProp:"description",children:r}),e.jsxs("div",{className:"flex items-center mb-2",itemProp:"aggregateRating",itemScope:!0,itemType:"https://schema.org/AggregateRating",children:[e.jsx(xe,{value:Math.round(d),size:18}),e.jsx("span",{className:"ml-2 text-lg font-semibold",itemProp:"ratingValue",children:d.toFixed(1)}),e.jsxs("span",{className:"text-gray-600 ml-1",children:["(",e.jsx("span",{itemProp:"reviewCount",children:n})," reviews)"]}),e.jsx("meta",{itemProp:"bestRating",content:"5"}),e.jsx("meta",{itemProp:"worstRating",content:"1"}),e.jsx("span",{className:`ml-4 px-2 py-0.5 text-xs font-medium rounded-full ${c()}`,children:t.replace("-"," ")})]}),e.jsxs("div",{className:"flex items-center text-gray-600",itemProp:"address",itemScope:!0,itemType:"https://schema.org/PostalAddress",children:[e.jsx(ge,{className:"h-4 w-4 mr-2 flex-shrink-0"}),e.jsx("span",{itemProp:"streetAddress",children:o()}),e.jsx("meta",{itemProp:"addressCountry",content:"GB"})]}),e.jsxs("div",{className:"sr-only",children:[e.jsx("span",{itemProp:"url",children:x}),e.jsx("span",{itemProp:"telephone",children:v}),e.jsx("span",{itemProp:"email",children:i}),e.jsxs("div",{itemProp:"hasOfferCatalog",itemScope:!0,itemType:"https://schema.org/OfferCatalog",children:[e.jsx("span",{itemProp:"name",children:"Medical Cannabis Services"}),e.jsxs("div",{itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/Offer",children:[e.jsx("div",{itemProp:"itemOffered",itemScope:!0,itemType:"https://schema.org/MedicalProcedure",children:e.jsx("span",{itemProp:"name",children:"Medical Cannabis Consultation"})}),e.jsxs("div",{itemProp:"priceSpecification",itemScope:!0,itemType:"https://schema.org/PriceSpecification",children:[e.jsx("span",{itemProp:"price",children:a}),e.jsx("span",{itemProp:"priceCurrency",children:"GBP"})]})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:u(a)}),e.jsx("div",{className:"text-sm text-gray-500",children:"Initial Consultation"}),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Annual Cost:"})," ",u(m)]})]})]})})},Ue=({clinic:s})=>{var n,t,x;const l=((n=s==null?void 0:s.overview)==null?void 0:n.phone)||"Contact clinic",r=((t=s==null?void 0:s.overview)==null?void 0:t.email)||"Contact clinic",d=((x=s==null?void 0:s.overview)==null?void 0:x.website)||"#";return e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l!=="Contact clinic"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Phone"}),e.jsx("a",{href:`tel:${l}`,className:"text-blue-600 hover:underline",children:l})]})]}),r!=="Contact clinic"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Email"}),e.jsx("a",{href:`mailto:${r}`,className:"text-blue-600 hover:underline",children:r})]})]}),d!=="#"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Website"}),e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:["Visit Website",e.jsx(ve,{className:"h-3 w-3 ml-1"})]})]})]})]})]})},Me=({clinic:s})=>{var a,m,o,c,u,j,f,N,y,w,g,p;const l=((m=(a=s==null?void 0:s.pricing)==null?void 0:a.initialConsultation)==null?void 0:m.price)||"TBC",r=((c=(o=s==null?void 0:s.pricing)==null?void 0:o.followUpConsultation)==null?void 0:c.price)||"TBC",d=((u=s==null?void 0:s.pricing)==null?void 0:u.prescriptionFee)||"TBC",n=((j=s==null?void 0:s.pricing)==null?void 0:j.deliveryFee)||"TBC",t=((N=(f=s==null?void 0:s.pricing)==null?void 0:f.estimatedAnnualCost)==null?void 0:N.low)||"TBC",x=((w=(y=s==null?void 0:s.pricing)==null?void 0:y.estimatedAnnualCost)==null?void 0:w.average)||"TBC",v=((p=(g=s==null?void 0:s.pricing)==null?void 0:g.estimatedAnnualCost)==null?void 0:p.high)||"TBC",i=C=>C===null||C==="TBC"?"TBC":`£${C}`;return e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Consultation Fees"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Initial Consultation"})]}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(l)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Follow-up Consultation"})]}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(r)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Prescription Fee"})]}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(d)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fe,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delivery Fee"})]}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(n)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Estimated Annual Cost"}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Low estimate:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(t)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Average estimate:"}),e.jsx("span",{className:"font-bold text-lg text-blue-600",children:i(x)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"High estimate:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(v)})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Estimates based on typical patient usage patterns"})]})]})]})},De=({clinic:s})=>{var m,o,c,u,j,f,N,y,w;const l=((m=s==null?void 0:s.services)==null?void 0:m.specialties)||[],r=((o=s==null?void 0:s.services)==null?void 0:o.conditions)||[],d=((c=s==null?void 0:s.services)==null?void 0:c.consultationTypes)||[],n=((u=s==null?void 0:s.services)==null?void 0:u.languages)||[],t=((j=s==null?void 0:s.services)==null?void 0:j.accessibility)||[],x=((f=s==null?void 0:s.services)==null?void 0:f.homeDelivery)||!1,v=((N=s==null?void 0:s.services)==null?void 0:N.urgentAppointments)||!1,i=((y=s==null?void 0:s.services)==null?void 0:y.followUpSupport)||!1,a=((w=s==null?void 0:s.services)==null?void 0:w.educationalResources)||!1;return e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Services & Specialties"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Specialties"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((g,p)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:g},p))})]}),r.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Conditions Treated"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.slice(0,6).map((g,p)=>e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:g},p)),r.length>6&&e.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm rounded-full",children:["+",r.length-6," more"]})]})]}),d.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Consultation Types"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((g,p)=>e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full capitalize",children:g},p))})]}),n.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Languages"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((g,p)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:g},p))})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Additional Services"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Home Delivery Available"})]}),v&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Urgent Appointments"})]}),i&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Follow-up Support"})]}),a&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Educational Resources"})]})]})]}),t.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Accessibility Features"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:t.map((g,p)=>e.jsx("li",{className:"text-sm text-gray-700",children:g},p))})]})]})},$e=({clinic:s})=>{var v,i,a,m;const l=((v=s==null?void 0:s.prosAndCons)==null?void 0:v.pros)||[],r=((i=s==null?void 0:s.prosAndCons)==null?void 0:i.cons)||[],d=((a=s==null?void 0:s.prosAndCons)==null?void 0:a.standoutFeatures)||[],n=((m=s==null?void 0:s.prosAndCons)==null?void 0:m.potentialDrawbacks)||[],t=l.length>0||r.length>0,x=d.length>0||n.length>0;return!t&&!x?null:e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pros & Cons"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-green-700 mb-3 flex items-center",children:[e.jsx(A,{className:"h-5 w-5 mr-2"}),"Pros"]}),e.jsx("ul",{className:"space-y-2",children:l.map((o,c)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(A,{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:o})]},c))})]}),r.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-red-700 mb-3 flex items-center",children:[e.jsx(me,{className:"h-5 w-5 mr-2"}),"Cons"]}),e.jsx("ul",{className:"space-y-2",children:r.map((o,c)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(me,{className:"h-4 w-4 text-red-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:o})]},c))})]})]}),(d.length>0||n.length>0)&&e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-blue-700 mb-3 flex items-center",children:[e.jsx(W,{className:"h-5 w-5 mr-2"}),"Standout Features"]}),e.jsx("ul",{className:"space-y-2",children:d.map((o,c)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(W,{className:"h-4 w-4 text-blue-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:o})]},c))})]}),n.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-yellow-700 mb-3 flex items-center",children:[e.jsx(oe,{className:"h-5 w-5 mr-2"}),"Potential Drawbacks"]}),e.jsx("ul",{className:"space-y-2",children:n.map((o,c)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(oe,{className:"h-4 w-4 text-yellow-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:o})]},c))})]})]})]})},He=({clinic:s,className:l=""})=>{var n,t;const r=((n=s==null?void 0:s.overview)==null?void 0:n.name)||"Unknown Clinic",d=((t=s==null?void 0:s.overview)==null?void 0:t.description)||"No description available";return e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden ${l}`,itemScope:!0,itemType:"https://schema.org/MedicalBusiness",children:[e.jsx(_e,{clinic:s}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["About ",r]}),e.jsx("p",{className:"text-gray-700",children:d})]}),e.jsx(Ue,{clinic:s}),e.jsx(Me,{clinic:s}),e.jsx(De,{clinic:s}),e.jsx($e,{clinic:s})]})},qe=({strains:s,loading:l,clinicName:r})=>{const[d,n]=b.useState(""),[t,x]=b.useState(""),v=Array.from(new Set(s.flatMap(a=>{var m;return((m=a.strains)==null?void 0:m.conditions_treated)||[]}).filter(Boolean))),i=s.filter(a=>{var c,u,j;const m=!d||((c=a.strains)==null?void 0:c.name.toLowerCase().includes(d.toLowerCase())),o=!t||((j=(u=a.strains)==null?void 0:u.conditions_treated)==null?void 0:j.some(f=>f.toLowerCase().includes(t.toLowerCase())));return m&&o});return l?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Available Strains"}),e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded w-full mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>e.jsx("div",{className:"h-32 bg-gray-200 rounded"},a))})]})]}):s.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Available Strains"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(be,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-500",children:["No strain information available for ",r]})]})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Available Strains"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search strains...",value:d,onChange:a=>n(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsxs("select",{value:t,onChange:a=>x(a.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[200px]",children:[e.jsx("option",{value:"",children:"All Conditions"}),v.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500",children:"No strains match your search criteria"}),e.jsx("button",{onClick:()=>{n(""),x("")},className:"mt-4 text-blue-600 hover:text-blue-800",children:"Clear filters"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(a=>{var m,o,c,u;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:(m=a.strains)==null?void 0:m.name}),e.jsxs("div",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:["THC: ",((o=a.strains)==null?void 0:o.thc_percentage)||"N/A","% | CBD: ",((c=a.strains)==null?void 0:c.cbd_percentage)||"N/A","%"]})]}),((u=a.strains)==null?void 0:u.conditions_treated)&&a.strains.conditions_treated.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Conditions:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.strains.conditions_treated.slice(0,3).map((j,f)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded",children:j},f)),a.strains.conditions_treated.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-50 text-gray-700 text-xs rounded",children:["+",a.strains.conditions_treated.length-3," more"]})]})]})]},a.strain_id)})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500 text-right",children:["Showing ",i.length," of ",s.length," strains"]})]})},Ke=({clinicId:s,clinicName:l})=>{const[r,d]=b.useState([]),[n,t]=b.useState(!0),[x,v]=b.useState(null);b.useEffect(()=>{(async()=>{try{if(!s){t(!1);return}t(!0);const{data:m,error:o}=await X.from("clinic_reviews").select("*").eq("clinic_id",s).order("created_at",{ascending:!1});if(o)throw o;d(m||[]),t(!1)}catch(m){console.error("Error fetching reviews:",m),v("Failed to load reviews"),t(!1)}})()},[s]);const i=a=>new Date(a).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"});return n?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Patient Reviews"}),e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-24 bg-gray-200 rounded w-full mb-4"}),e.jsx("div",{className:"h-24 bg-gray-200 rounded w-full mb-4"}),e.jsx("div",{className:"h-24 bg-gray-200 rounded w-full"})]})]}):x?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Patient Reviews"}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-600",children:x})})]}):r.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Patient Reviews"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(W,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-500",children:["No reviews yet for ",l]}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Be the first to share your experience"})]})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Patient Reviews (",r.length,")"]}),e.jsx("div",{className:"space-y-6",children:r.map(a=>e.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-b-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(xe,{value:a.rating,size:16}),e.jsx("span",{className:"ml-2 font-semibold",children:a.rating.toFixed(1)})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Re,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Anonymous User"}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx(ye,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:i(a.created_at)})]})]}),a.verified&&e.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:[e.jsx(A,{className:"h-3 w-3 mr-1"}),"Verified Patient"]})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:a.review_text}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.pros&&a.pros.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Pros"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:a.pros.map((m,o)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),m]},o))})]}),a.cons&&a.cons.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Cons"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:a.cons.map((m,o)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"×"}),m]},o))})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Treatment: ",e.jsx("span",{className:"font-medium",children:a.treatment_type||"Not specified"})]}),e.jsx("div",{className:"flex items-center text-sm text-gray-600",children:a.would_recommend?e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(ce,{className:"h-4 w-4 mr-1"}),"Would recommend"]}):e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(ce,{className:"h-4 w-4 mr-1 transform rotate-180"}),"Would not recommend"]})})]})]},a.id))})]})},Ve=s=>{const[l,r]=b.useState([]),[d,n]=b.useState(!0),[t,x]=b.useState(null);return b.useEffect(()=>{(async()=>{if(!s){n(!1);return}try{n(!0);const{data:i,error:a}=await X.from("clinic_reviews").select("*").eq("clinic_id",s).order("created_at",{ascending:!1});if(a)throw a;r(i||[])}catch(i){console.error("Error fetching reviews:",i),x("Failed to load reviews")}finally{n(!1)}})()},[s]),{reviews:l,loading:d,error:t}},Oe=s=>{const[l,r]=b.useState([]),[d,n]=b.useState(!0),[t,x]=b.useState(null);return b.useEffect(()=>{(async()=>{if(!s){n(!1);return}try{n(!0);const{data:i,error:a}=await X.from("clinic_strains").select("*").eq("clinic_id",s);if(a)throw a;r(i||[])}catch(i){console.error("Error fetching strains:",i),x("Failed to load strains")}finally{n(!1)}})()},[s]),{strains:l,loading:d,error:t}};class Ge extends he.Component{constructor(l){super(l),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?this.props.fallback:this.props.children}}const Je=()=>{var a,m,o,c,u,j,f,N,y,w,g,p,C,T,R,B,E,P,F,L,_,U,M,D,$,H,Z,I,Q,J,Y,ee,se,te,ae,re,ne,le;const{slug:s}=we(),l=Ce(),{clinics:r,isLoading:d,error:n}=Pe(),t=r.find(h=>{var K,V;if(!(h!=null&&h.overview))return console.warn("ClinicProfilePage: Clinic missing overview data:",h),!1;if(h.overview.slug&&h.overview.slug===s)return!0;const S=O(((K=h.overview)==null?void 0:K.name)||""),k=O(((V=h.overview)==null?void 0:V.id)||""),q=S===s||k===s;return q&&console.log("ClinicProfilePage: Found matching clinic:",h.overview.name),q});he.useEffect(()=>{var h;console.log("ClinicProfilePage: Looking for slug:",s),console.log("ClinicProfilePage: Available clinics:",r.length),console.log("ClinicProfilePage: Clinic slugs:",r.map(S=>{var k,q,K,V;return{name:(k=S.overview)==null?void 0:k.name,nameSlug:O(((q=S.overview)==null?void 0:q.name)||""),id:(K=S.overview)==null?void 0:K.id,idSlug:O(((V=S.overview)==null?void 0:V.id)||"")}})),console.log("ClinicProfilePage: Found clinic:",((h=t==null?void 0:t.overview)==null?void 0:h.name)||"none")},[s,r,t]);const{strains:x,loading:v}=Oe(((a=t==null?void 0:t.overview)==null?void 0:a.id)||"");Ve(((m=t==null?void 0:t.overview)==null?void 0:m.id)||"");const i=t?{name:((o=t.overview)==null?void 0:o.name)||"Medical Cannabis Clinic",address:{street:(u=(c=t.overview)==null?void 0:c.address)==null?void 0:u.street,city:((f=(j=t.overview)==null?void 0:j.address)==null?void 0:f.city)||"UK",postcode:(y=(N=t.overview)==null?void 0:N.address)==null?void 0:y.postcode,region:(g=(w=t.overview)==null?void 0:w.address)==null?void 0:g.region},phone:(p=t.overview)==null?void 0:p.phone,email:(C=t.overview)==null?void 0:C.email,website:(T=t.overview)==null?void 0:T.website,rating:(R=t.patientExperience)==null?void 0:R.overallRating,reviewCount:(B=t.patientExperience)==null?void 0:B.totalReviews,priceRange:`£${((P=(E=t.pricing)==null?void 0:E.initialConsultation)==null?void 0:P.price)||150}-£${((L=(F=t.pricing)==null?void 0:F.estimatedAnnualCost)==null?void 0:L.high)||4e3}`,specialties:((_=t.services)==null?void 0:_.specialties)||[],services:["Medical Cannabis Consultation","Medical Cannabis Prescription","Follow-up Care","Patient Support"]}:void 0;return d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Error loading clinic data."}),e.jsx("button",{onClick:()=>l("/clinics"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Back to Clinics"})]})})}):t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s&&t&&e.jsx(Se,{title:`${((U=t.overview)==null?void 0:U.name)||"Medical Cannabis Clinic"} Review UK - Pricing, Reviews & Booking`,description:Be(t),keywords:[`${((M=t.overview)==null?void 0:M.name)||"medical cannabis clinic"} review`,`${((D=t.overview)==null?void 0:D.name)||"medical cannabis clinic"} UK`,"medical cannabis clinic review","UK medical cannabis clinic","medical cannabis consultation","book medical cannabis appointment","compare medical cannabis clinics UK","medical cannabis clinic UK","get medical cannabis prescription UK",...((($=t.services)==null?void 0:$.specialties)||[]).map(h=>`medical cannabis for ${h.toLowerCase()}`),`medical cannabis clinic ${((Z=(H=t.overview)==null?void 0:H.address)==null?void 0:Z.city)||"UK"}`],canonicalUrl:`https://comparetheleaf.co.uk/clinics/${s}`,medicalBusinessData:{...i,aggregateRating:t.patientExperience?{ratingValue:t.patientExperience.overallRating,reviewCount:parseInt(t.patientExperience.totalReviews.toString())||0,bestRating:5,worstRating:1}:void 0},breadcrumbData:[{name:"Home",url:"https://comparetheleaf.co.uk/"},{name:"Clinics",url:"https://comparetheleaf.co.uk/clinics"},{name:((I=t.overview)==null?void 0:I.name)||"Clinic",url:`https://comparetheleaf.co.uk/clinics/${s}`}]}),e.jsx(ke,{items:[{label:"Home",path:"/"},{label:"Clinics",path:"/clinics"},{label:((Q=t.overview)==null?void 0:Q.name)||"Clinic",path:`/clinics/${s}`}]}),e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("button",{onClick:()=>l("/clinics"),className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Back to Clinics"]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx(Ge,{fallback:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsx("p",{className:"text-red-600",children:"Something went wrong loading the clinic details."})}),children:e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(He,{clinic:t}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Patient Reviews"}),e.jsx(Ke,{clinicId:((J=t.overview)==null?void 0:J.id)||"",clinicName:((Y=t.overview)==null?void 0:Y.name)||""})]})]}),e.jsxs("aside",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Available Strains"}),e.jsx(qe,{strains:x,loading:v,clinicName:((ee=t.overview)==null?void 0:ee.name)||""})]}),e.jsxs("section",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[((se=t.overview)==null?void 0:se.website)&&e.jsx("a",{href:t.overview.website,target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-gradient-to-r from-blue-600 to-green-600 text-white text-center py-3 px-4 rounded-lg hover:from-blue-700 hover:to-green-700 transition-all font-medium",children:"Book Consultation"}),e.jsx(z,{to:"/quiz",className:"block w-full bg-gray-100 text-gray-700 text-center py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Find Similar Clinics"}),e.jsx(z,{to:"/compare",className:"block w-full border border-gray-300 text-gray-700 text-center py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Compare Clinics"}),e.jsx(z,{to:(()=>{var S,k;const h=((k=(S=t.overview)==null?void 0:S.name)==null?void 0:k.toLowerCase())||"";return h.includes("cb1")?"/reviews/cb1-medical-review":h.includes("releaf")?"/reviews/releaf-review":h.includes("mamedica")?"/reviews/mamedica-review":h.includes("alternaleaf")?"/reviews/alternaleaf-review":h.includes("cantourage")?"/reviews/cantourage-review":h.includes("dispensed")?"/reviews/dispensed-review":h.includes("birmingham")?"/reviews/birmingham-cannabis-care-review":"/reviews"})(),className:"block w-full border border-blue-600 text-blue-600 text-center py-3 px-4 rounded-lg hover:bg-blue-50 transition-colors font-medium",children:"Read Review"})]})]}),e.jsxs("section",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"At a Glance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Overall Rating:"}),e.jsxs("span",{className:"font-medium",children:[((ae=(te=t.patientExperience)==null?void 0:te.overallRating)==null?void 0:ae.toFixed(1))||"N/A","/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Reviews:"}),e.jsx("span",{className:"font-medium",children:((re=t.patientExperience)==null?void 0:re.totalReviews)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Next Available:"}),e.jsx("span",{className:"font-medium",children:((ne=t.patientExperience)==null?void 0:ne.nextAvailableAppointment)||"Contact clinic"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Response Time:"}),e.jsx("span",{className:"font-medium",children:((le=t.patientExperience)==null?void 0:le.responseTime)||"N/A"})]})]})]})]})]})})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-yellow-600 mb-4",children:"Clinic not found."}),e.jsx("button",{onClick:()=>l("/clinics"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Back to Clinics"})]})})})};export{Je as default};
