import{R as i,j as e,B as c,z as g,D as u,M as p,n as j,h as b,o as y}from"./index-BgERFsfp.js";import{g as f}from"./articleLoader-emQQMzus.js";const N=(r,n)=>{if(!r)return"";let s=r;return s=s.replace(/^#{1,6}\s+/gim,""),s=s.replace(/\*\*\*?(.*?)\*\*\*?/g,"$1"),s=s.replace(/___?(.*?)___?/g,"$1"),s=s.replace(/\[([^\]]+)\]\([^\)]+\)/g,"$1"),s=s.replace(/`([^`]+)`/g,"$1"),s=s.replace(/^[>\-\*\+]\s+/gim,""),s=s.replace(/^\d+\.\s+/gim,""),s=s.replace(/\n+/g," "),s.length>n?s.substring(0,n)+"...":s};function A(){const[r,n]=i.useState([]),[s,d]=i.useState(!0),[o,m]=i.useState(null);i.useEffect(()=>{(async()=>{try{d(!0),m(null);const a=await f();n(a)}catch(a){console.error("Error fetching articles:",a),m("Failed to load articles")}finally{d(!1)}})()},[]);const x=l=>new Date(l).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"}),h=i.useMemo(()=>r.reduce((l,a)=>{const t=a.section||a.category||"Uncategorized";return l[t]||(l[t]=[]),l[t].push(a),l},{}),[r]);return s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(c,{items:[{label:"Home",path:"/"},{label:"All Articles",path:"/articles"}]}),e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(g,{size:"lg"})})]}):o?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(c,{items:[{label:"Home",path:"/"},{label:"All Articles",path:"/articles"}]}),e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-red-600 mb-4",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Try Again"})]})})]}):e.jsx(u,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(p,{title:"Medical Cannabis Articles UK - Educational Resources & Guides",description:"Browse all medical cannabis articles, guides, and educational resources. Expert insights on UK treatment options, regulations, and patient experiences.",canonicalUrl:"https://comparetheleaf.co.uk/articles",keywords:["medical cannabis articles","cannabis education UK","medical cannabis guides","cannabis resources"]}),e.jsx(c,{items:[{label:"Home",path:"/"},{label:"All Articles",path:"/articles"}]}),e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"All Articles"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Browse all our articles about medical cannabis treatment, regulations, and best practices."})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No published articles available yet."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Articles published in the admin panel will appear here."})]}):e.jsx("div",{className:"space-y-16",children:Object.entries(h).map(([l,a])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l}),e.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," article",a.length!==1?"s":""]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(t=>e.jsx(j,{to:`/articles/${t.slug}`,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:t.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:N(t.excerpt,200)}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:x(t.date)})]}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:["Read More",e.jsx(y,{className:"h-4 w-4 ml-1"})]})]}),t.view_count&&t.view_count>0&&e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[t.view_count," views"]})]})},t.slug))})]},l))})})]})})}export{A as default};
