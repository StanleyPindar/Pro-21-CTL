import{q as k,i as R,k as A,R as E,r as T,j as e,M as $,C as c,S as I,p as S,P as M,I as P,n as b,o as g,w as p}from"./index-BtruPY50.js";import{V as B}from"./video-DVDT4Kfc.js";import{R as V}from"./rotate-ccw-BAtjdT_e.js";import{I as Y}from"./info-BRuM4lVR.js";const Q=()=>{const f=k(),d=R(),{clinics:r}=A(),[y,j]=E.useState(!1),a=f.state;if(T.useEffect(()=>{if(!a||!a.eligibility){console.warn("No eligibility state found, redirecting to assessment"),j(!0);const t=setTimeout(()=>{d("/eligibility",{replace:!0})},100);return()=>clearTimeout(t)}},[a,d]),!a||!a.eligibility)return y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Redirecting to assessment..."})]})}):null;const{eligibility:n,clinicMatches:o,responses:L}=a;console.log("EligibilityResultsPage rendering with:",{eligibility:n,clinicMatchesCount:(o==null?void 0:o.length)||0,clinicsAvailable:(r==null?void 0:r.length)||0});const i=(()=>{switch(n.status){case"highly_likely":return{icon:c,color:"green",title:"Highly Likely to Qualify",subtitle:"Based on your responses, you meet the key criteria for medical cannabis treatment",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-900",iconColor:"text-green-600"};case"likely":return{icon:c,color:"blue",title:"Likely to Qualify",subtitle:"You appear to meet several eligibility criteria - worth discussing with a specialist",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-900",iconColor:"text-blue-600"};case"possible":return{icon:Y,color:"yellow",title:"Possibly Eligible",subtitle:"You may qualify depending on your full medical history and specialist assessment",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-900",iconColor:"text-yellow-600"};default:return{icon:p,color:"gray",title:"More Information Needed",subtitle:"Consider discussing with your doctor about conventional treatment options first",bgColor:"bg-gray-50",borderColor:"border-gray-200",textColor:"text-gray-900",iconColor:"text-gray-600"}}})(),N=i.icon,v=t=>{if(!r||r.length===0){console.warn("No clinics available for matching");return}return r.find(l=>{var s;return((s=l==null?void 0:l.overview)==null?void 0:s.id)===t.clinicId})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[e.jsx($,{title:"Your Eligibility Assessment Results - Medical Cannabis UK",description:"View your personalized medical cannabis eligibility assessment results and matched clinic recommendations.",canonicalUrl:"https://comparetheleaf.co.uk/eligibility/results"}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Your Assessment Results"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Based on your responses, here's what we found"})]}),e.jsxs("div",{className:`${i.bgColor} ${i.borderColor} border-2 rounded-2xl p-8 mb-8 shadow-xl`,children:[e.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[e.jsx("div",{className:`${i.iconColor} bg-white p-3 rounded-full`,children:e.jsx(N,{className:"w-8 h-8"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:`text-2xl font-bold ${i.textColor} mb-2`,children:i.title}),e.jsx("p",{className:`text-lg ${i.textColor} opacity-90`,children:i.subtitle})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-4xl font-bold ${i.iconColor}`,children:[n.confidence,"%"]}),e.jsx("div",{className:`text-sm ${i.textColor} opacity-75`,children:"Confidence"})]})]}),e.jsxs("div",{className:`${i.textColor} space-y-3`,children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Key Findings:"}),e.jsx("ul",{className:"space-y-2",children:n.reasoning.map((t,l)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(c,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5 opacity-75"}),e.jsx("span",{children:t})]},l))})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Recommended Next Steps"}),e.jsx("div",{className:"space-y-4",children:n.recommendedActions.map((t,l)=>e.jsxs("div",{className:"flex items-start p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold mr-4",children:l+1}),e.jsx("p",{className:"text-gray-900 flex-1",children:t})]},l))})]}),o.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Your Matched Clinics"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Based on your condition, preferences, and budget"})]}),e.jsx("div",{className:"space-y-6",children:o.map((t,l)=>{var x,m,h,u;const s=v(t);return s?e.jsx("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full font-bold text-sm",children:l+1}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.clinicName})]}),s.overview.tagline&&e.jsx("p",{className:"text-gray-600 mb-3",children:s.overview.tagline})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:[t.percentage,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Match"})]})]}),s.patientExperience&&e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx(I,{rating:s.patientExperience.overallRating}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.patientExperience.totalReviews," reviews"]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Why This Clinic:"}),e.jsx("ul",{className:"space-y-1",children:t.reasons.map((w,C)=>e.jsxs("li",{className:"flex items-start text-sm text-green-800",children:[e.jsx(c,{className:"w-4 h-4 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:w})]},C))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[((m=(x=s.pricing)==null?void 0:x.initialConsultation)==null?void 0:m.price)&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsxs("span",{children:["Â£",s.pricing.initialConsultation.price," initial"]})]}),((h=s.services)==null?void 0:h.consultationTypes)&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.services.consultationTypes.includes("video")?e.jsx(B,{className:"w-4 h-4"}):e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:s.services.consultationTypes.join(", ")})]}),((u=s.patientExperience)==null?void 0:u.nextAvailableAppointment)&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:s.patientExperience.nextAvailableAppointment})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(b,{to:`/clinics/${s.overview.slug||s.overview.id}`,className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-green-600 text-white font-medium rounded-lg hover:from-blue-700 hover:to-green-700 transition-all",children:["View Full Profile",e.jsx(g,{className:"ml-2 w-4 h-4"})]}),s.overview.website&&e.jsx("a",{href:s.overview.website,target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center px-6 py-3 border-2 border-blue-600 text-blue-600 font-medium rounded-lg hover:bg-blue-50 transition-all",children:"Book Consultation"})]})]})},t.clinicId):null})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 rounded-2xl shadow-xl p-8 text-white mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ready to Take the Next Step?"}),e.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Our assessment provides guidance, but only a specialist doctor can confirm your eligibility. Book a consultation with one of our matched clinics to discuss your specific situation."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(b,{to:"/clinics",className:"inline-flex items-center justify-center px-6 py-3 bg-white text-blue-600 font-medium rounded-lg hover:bg-gray-100 transition-all",children:["View All Clinics",e.jsx(g,{className:"ml-2 w-4 h-4"})]}),e.jsxs("button",{onClick:()=>d("/eligibility"),className:"inline-flex items-center justify-center px-6 py-3 border-2 border-white text-white font-medium rounded-lg hover:bg-white hover:text-blue-600 transition-all",children:[e.jsx(V,{className:"mr-2 w-4 h-4"}),"Take Assessment Again"]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"font-semibold text-yellow-900 mb-2 flex items-center",children:[e.jsx(p,{className:"w-5 h-5 mr-2"}),"Medical Disclaimer"]}),e.jsx("p",{className:"text-sm text-yellow-800",children:"This assessment is for informational purposes only and does not constitute medical advice. Only a registered specialist doctor can assess your eligibility for medical cannabis treatment. Always consult with qualified healthcare professionals about your medical conditions and treatment options."})]})]})]})};export{Q as default};
